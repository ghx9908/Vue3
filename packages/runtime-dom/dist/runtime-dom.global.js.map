{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/patchProp.ts", "../../shared/src/index.ts", "../../runtime-core/src/createVNode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/renderer.ts"],
  "sourcesContent": ["import { nodeOps } from \"./nodeOps\"\nimport { patchProp } from \"./patchProp\"\nimport { createRenderer } from \"@vue/runtime-core\";\n// \u51C6\u5907\u597D\u6240\u6709\u6E32\u67D3\u65F6\u6240\u9700\u8981\u7684\u7684\u5C5E\u6027\nconst renderOptions = Object.assign({ patchProp }, nodeOps);\n\n\nexport const render = (vnode, container) => {\n  createRenderer(renderOptions).render(vnode, container)\n}\nexport * from \"@vue/runtime-core\";\n", "// \u8FD9\u91CC\u5B58\u653E\u5E38\u89C1DOM\u64CD\u4F5CAPI\uFF0C\u4E0D\u540C\u8FD0\u884C\u65F6\u63D0\u4F9B\u7684\u5177\u4F53\u5B9E\u73B0\u4E0D\u4E00\u6837\uFF0C\n// \u6700\u7EC8\u5C06\u64CD\u4F5C\u65B9\u6CD5\u4F20\u9012\u5230runtime-core\u4E2D\uFF0C\u6240\u4EE5runtime-core\u4E0D\u9700\u8981\u5173\u5FC3\u5E73\u53F0\u76F8\u5173\u4EE3\u7801~\n\nexport const nodeOps = {\n  insert: (child, parent, anchor) => { // \u6DFB\u52A0\u8282\u70B9\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: child => { // \u8282\u70B9\u5220\u9664\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag) => document.createElement(tag),// \u521B\u5EFA\u8282\u70B9\n  createText: text => document.createTextNode(text),// \u521B\u5EFA\u6587\u672C\n  setText: (node, text) => node.nodeValue = text, //  \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u5185\u5BB9\n  setElementText: (el, text) => el.textContent = text, // \u8BBE\u7F6E\u6587\u672C\u5143\u7D20\u4E2D\u7684\u5185\u5BB9\n  parentNode: node => node.parentNode, // \u7236\u4EB2\u8282\u70B9\n  nextSibling: node => node.nextSibling, // \u4E0B\u4E00\u4E2A\u8282\u70B9\n  querySelector: selector => document.querySelector(selector) // \u641C\u7D22\u5143\u7D20\n}\n", "\n// \u6BD4\u5BF9\u5C5E\u6027\u65B9\u6CD5\nexport const patchProp = (el, key, prevValue, nextValue) => {\n  if (key === 'class') {\n    patchClass(el, nextValue)\n  } else if (key === 'style') {\n    patchStyle(el, prevValue, nextValue);\n  } else if (/^on[^a-z]/.test(key)) {\n    patchEvent(el, key, nextValue)\n  } else {\n    patchAttr(el, key, nextValue)\n  }\n}\n\n// \u64CD\u4F5C\u7C7B\u540D\nfunction patchClass(el, value) { // \u6839\u636E\u6700\u65B0\u503C\u8BBE\u7F6E\u7C7B\u540D\n  // class:\"abc\" class:\"abc bcd efg\"\n  if (value == null) {\n    el.removeAttribute('class');\n  } else {\n    el.className = value;\n  }\n}\n\n// \u64CD\u4F5C\u6837\u5F0F\nfunction patchStyle(el, prev, next) { // \u66F4\u65B0style\n  // \u65E7\u7684{color:red,font-size:18px},  \u65B0\u7684{background:red\uFF0Ccolor:blue}\n  const style = el.style;\n  for (const key in next) { // \u7528\u6700\u65B0\u7684\u76F4\u63A5\u8986\u76D6\n    style[key] = next[key]\n  }\n  if (prev) {\n    for (const key in prev) {// \u8001\u7684\u6709\u65B0\u7684\u6CA1\u6709\u5220\u9664\n      if (next[key] == null) {\n        style[key] = null\n      }\n    }\n  }\n}\n\n\n// \u64CD\u4F5C\u4E8B\u4EF6\n/**\n * \u521B\u5EFA\u4E8B\u4EF6\u56DE\u8C03\u51FD\u6570\n * @param {Function} initialValue \u4E8B\u4EF6\u56DE\u8C03\u51FD\u6570 \n */\nfunction createInvoker(initialValue) {\n  const invoker = (e) => invoker.value(e);\n  invoker.value = initialValue;\n  return invoker;\n}\n\n/**\n * \u66F4\u65B0\u5143\u7D20\u7684\u4E8B\u4EF6\u56DE\u8C03\n * @param {Element} el \u5143\u7D20 \n * @param {string} rawName \u4E8B\u4EF6\u540D\n * @param {Function | null} nextValue \u65B0\u7684\u4E8B\u4EF6\u56DE\u8C03\n */\nfunction patchEvent(el, rawName, nextValue) {  // \u66F4\u65B0\u4E8B\u4EF6\n  // \u5143\u7D20\u7684\u4E8B\u4EF6\u56DE\u8C03\u51FD\u6570\u7F13\u5B58\u5BF9\u8C61\n  const invokers = el._vei || (el._vei = {});\n  // \u5F53\u524D\u4E8B\u4EF6\u540D\u5BF9\u5E94\u7684\u56DE\u8C03\u51FD\u6570\n  const exisitingInvoker = invokers[rawName]; // \u662F\u5426\u7F13\u5B58\u8FC7\n\n  if (nextValue && exisitingInvoker) {\n    // \u5982\u679C\u5DF2\u6709\u7F13\u5B58\u7684\u56DE\u8C03,\u76F4\u63A5\u66F4\u65B0\u4E3A\u65B0\u51FD\u6570\n    exisitingInvoker.value = nextValue;\n  } else {\n    // \u8F6C\u6362\u4E3A\u5C0F\u5199\u4E8B\u4EF6\u540D\n    const name = rawName.slice(2).toLowerCase();\n    if (nextValue) {\n      // \u6CA1\u6709\u7F13\u5B58,\u65B0\u5EFA\u4E00\u4E2A\u4E8B\u4EF6\u56DE\u8C03\u5E76\u7F13\u5B58\n      const invoker = (invokers[rawName]) = createInvoker(nextValue);\n      el.addEventListener(name, invoker);\n    } else if (exisitingInvoker) {\n      // \u5982\u679C\u4F20\u5165\u7A7A,\u5219\u79FB\u9664\u5BF9\u5E94\u7684\u4E8B\u4EF6\u76D1\u542C\n      el.removeEventListener(name, exisitingInvoker);\n      invokers[rawName] = undefined\n    }\n  }\n}\n\n\nfunction patchAttr(el, key, value) { // \u66F4\u65B0\u5C5E\u6027\n  if (value == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, value);\n  }\n}\n", "export const isObject = (value: unknown): value is Record<any, any> => {\n  // return Object.prototype.toString.call(value) === '[object Object]';\n  return value !== null && typeof value === 'object'\n}\n\n\nexport const isFunction = (value) => {\n  return typeof value === \"function\";\n};\n\nexport function isString(val) {\n  return typeof val === \"string\";\n}\n\n\nexport const enum ShapeFlags {\n  ELEMENT = 1, // \u5143\u7D20\n  FUNCTIONAL_COMPONENT = 1 << 1, // 2\n  STATEFUL_COMPONENT = 1 << 2, // 4\n  TEXT_CHILDREN = 1 << 3, // \u6587\u672C\u5B69\u5B50\n  ARRAY_CHILDREN = 1 << 4, // \u6570\u7EC4\u5B69\u5B50\n  SLOTS_CHILDREN = 1 << 5, // \u7EC4\u4EF6\u7684\u63D2\u69FD\n  TELEPORT = 1 << 6, // \u4F20\u9001\u95E8\u7EC4\u4EF6\n  SUSPENSE = 1 << 7, // SUSPENSE\u7EC4\u4EF6\n  COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8, // keep-alive\n  COMPONENT_KEPT_ALIVE = 1 << 9,\n  COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT,\n}\n", "import { ShapeFlags, isString } from \"@vue/shared\";\n\nexport const Text = Symbol(\"Text\");\nexport const Fragment = Symbol(\"Fragment\");\n\nexport function isVNode(val) {\n  return !!(val && val.__v_isVNode);\n}\n\n\nexport function isSameVNodeType(n1, n2) {\n  return n1.type === n2.type && n1.key === n2.key;\n}\nexport function createVNode(type, props, children = null) {\n  // React.createElement\n  const shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0;\n  const vnode = {\n    shapeFlag,\n    __v_isVNode: true,\n    type,\n    props,\n    key: props && props.key,\n    el: null, // \u6BCF\u4E2A\u865A\u62DF\u8282\u70B9\u90FD\u5BF9\u5E94\u4E00\u4E2A\u771F\u5B9E\u8282\u70B9\uFF0C\u7528\u6765\u5B58\u653E\u771F\u5B9E\u8282\u70B9\u7684\u540E\u7EED\u66F4\u65B0\u7684\u65F6\u5019\u4F1A\u4EA7\u751F\u65B0\u7684\u865A\u62DF\u8282\u70B9\uFF0C\u6BD4\u8F83\u5DEE\u5F02\u66F4\u65B0\u771F\u5B9EDOM\n    children,\n  };\n  if (children) {\n    let type = 0;\n    if (Array.isArray(children)) {\n      type = ShapeFlags.ARRAY_CHILDREN;\n    } else {\n      type = ShapeFlags.TEXT_CHILDREN;\n    }\n    vnode.shapeFlag |= type;\n  }\n  return vnode;\n}\n\n// \u521B\u5EFA\u5143\u7D20\u7684\u65F6\u5019  createElement()  children.forEach(child=> createElement(child))\n//  createElement()   createElement.innerHTML = children\n\n// if(Array.isArray(children))\n\n// \u5BF9\u8C61\u53EF\u80FD\u662F\u7EC4\u4EF6  \u8FD8\u6709\u53EF\u80FD\u662F\u5176\u4ED6\u7C7B\u578B\n", "import { isObject } from \"@vue/shared\";\nimport { createVNode, isVNode } from \"./createVNode\";\n\nexport function h(type, propsOrChildren?, children?) {\n  const l = arguments.length;\n  if (l === 2) { // \u53EA\u6709\u5C5E\u6027\uFF0C\u6216\u8005\u4E00\u4E2A\u5143\u7D20\u513F\u5B50\u7684\u65F6\u5019\n    if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) { // h('div',h('span'))\n        return createVNode(type, null, [propsOrChildren])\n      }\n      return createVNode(type, propsOrChildren);  // h('div',{style:{color:'red'}});\n    } else {\n      // const VDom = h('div','hello')\n      // const VDom = h('div', [h('span'), h('span')])\n      return createVNode(type, null, propsOrChildren); // h('div',null,[h('span'),h('span')])\n    }\n  } else {\n    if (l > 3) { // \u8D85\u8FC73\u4E2A\u9664\u4E86\u524D\u4E24\u4E2A\u90FD\u662F\u513F\u5B50\n      // const VDom = h('div', {}, h('span'), h('span'), h('span'), h('span'))\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      // const VDom = h('div', {}, h('span'))\n      children = [children]; // \u513F\u5B50\u662F\u5143\u7D20\u5C06\u5176\u5305\u88C5\u6210 h('div',null,[h('span')])\n    }\n    return createVNode(type, propsOrChildren, children) // h('div',null,'jw')\n  }\n}\n// \u6CE8\u610F\u5B50\u8282\u70B9\u662F\uFF1A\u6570\u7EC4\u3001\u6587\u672C\u3001null\n", "import { ShapeFlags } from \"@vue/shared\";\nimport {\n  isSameVNodeType,\n  Fragment,\n  Text,\n} from \"./createVNode\";\nexport function createRenderer(options) {\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n  } = options\n\n  const mountChildren = (children, container) => {\n    for (let i = 0; i < children.length; i++) {\n      patch(null, children[i], container);\n    }\n  }\n\n  //\u5220\u9664\u8001\u5143\u7D20\n  const unmountChildren = (children) => {\n    for (let i = 0; i < children.length; i++) {\n      // \u9012\u5F52\u8C03\u7528patch\u65B9\u6CD5 \u521B\u5EFA\u5143\u7D20\n      unmount(children[i]);\n    }\n  };\n  const mountElement = (vnode, container, anchor) => {\n    const { type, props, shapeFlag } = vnode\n    let el = vnode.el = hostCreateElement(type); // \u521B\u5EFA\u771F\u5B9E\u5143\u7D20\uFF0C\u6302\u8F7D\u5230\u865A\u62DF\u8282\u70B9\u4E0A\n    if (props) { // \u5904\u7406\u5C5E\u6027\n      for (const key in props) { // \u66F4\u65B0\u5143\u7D20\u5C5E\u6027\n        hostPatchProp(el, key, null, props[key]);\n      }\n    }\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) { // \u6587\u672C\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) { // \u591A\u4E2A\u513F\u5B50\n      mountChildren(vnode.children, el);\n    }\n    hostInsert(el, container, anchor); // \u63D2\u5165\u5230\u5BB9\u5668\u4E2D\n  }\n\n  const patchProps = (oldProps, newProps, el) => {\n    for (let key in newProps) {\n      // \u7528\u65B0\u7684\u751F\u6548\n      hostPatchProp(el, key, oldProps[key], newProps[key]);\n    }\n    // \u8001\u7684\u91CC\u9762\u6709\u65B0\u7684\u6CA1\u6709\u5219\u5220\u9664\n    for (let key in oldProps) {\n      if (!(key in newProps)) {\n        hostPatchProp(el, key, oldProps[key], null);\n      }\n    }\n  };\n  /**\n   * \n   * @param c1 VNode1 Childen Arr \u65E7\u7684\n   * @param c2 VNode2 Childen Arr \u65B0\u7684\n   * @param el \u6302\u5728\u7684\u5143\u7D20  node1\n   */\n  const patchKeyedChildren = (c1, c2, el) => {\n    let i = 0; // \u5934\u90E8\u7D22\u5F15\n    let e1 = c1.length - 1;\n    let e2 = c2.length - 1;\n    // 1. sync from start\n    // (a b) c\n    // (a b) d e\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i];\n      if (isSameVNodeType(n1, n2)) {\n        patch(n1, n2, el);\n      } else {\n        break;\n      }\n      i++;\n    }\n\n    // 2. sync from end\n    // a (b c)\n    // d e (b c)\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2];\n      if (isSameVNodeType(n1, n2)) {\n        patch(n1, n2, el);\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n\n    // 3. common sequence + mount\n    // (a b)\n    // (a b) c\n    // i = 2, e1 = 1, e2 = 2\n    // (a b)\n    // c (a b)\n    // i = 0, e1 = -1, e2 = 0\n    // i > e1 \u8BF4\u660E\u65B0\u7684\u6BD4\u8001\u7684\u957F\uFF0C\u6709\u65B0\u589E\u7684\u903B\u8F91\n\n    if (i > e1) {// \u8BF4\u660E\u6709\u65B0\u589E \n      if (i <= e2) { // \u8868\u793A\u6709\u65B0\u589E\u7684\u90E8\u5206\n        // i - e2\u4E4B\u95F4\u4E3A\u65B0\u589E\u7684\u90E8\u5206\n        while (i <= e2) {\n          // \u5982\u679Ce2 \u540E\u9762\u5462\u6CA1\u6709\u503C\uFF0C\u8BF4\u660E\u662F\u5411\u540E\u63D2\u5165\n          // \u5982\u679Ce2 \u540E\u9762\u7684\u6709\u503C\uFF0C \u8BF4\u660E\u662F\u5F80\u524D\u6BD4\u8F83\u7684\uFF0C\u80AF\u5B9A\u662F\u5411\u524D\u63D2\u5165\n          const nextPos = e2 + 1;\n          const anchor = c2[nextPos]?.el;\n          patch(null, c2[i], el, anchor); // \u5982\u4F55\u9009\u62E9\u951A\u70B9\u503C\n          i++;\n        }\n      }\n      // 4. common sequence + unmount\n      // (a b) c\n      // (a b)\n      // i = 2, e1 = 2, e2 = 1\n      // a (b c)\n      // (b c)\n      // i = 0, e1 = 0, e2 = -1\n    } else if (i > e2) {\n      // \u8001\u7684\u591A\u65B0\u7684\u5C11\n      while (i <= e1) {\n        // \u5982\u679Ce2 \u540E\u9762\u5462\u6CA1\u6709\u503C\uFF0C\u8BF4\u660E\u662F\u5411\u540E\u63D2\u5165\n        // \u5982\u679Ce2 \u540E\u9762\u7684\u6709\u503C\uFF0C \u8BF4\u660E\u662F\u5F80\u524D\u6BD4\u8F83\u7684\uFF0C\u80AF\u5B9A\u662F\u5411\u524D\u63D2\u5165\n        unmount(c1[i]); // \u5982\u4F55\u9009\u62E9\u951A\u70B9\u503C\n        i++;\n      }\n    }\n\n    // 5. unknown sequence\n    // a b [c d e] f g\n    // a b [e c d h] f g\n    // i = 2, e1 = 4, e2 = 5\n    let s1 = i;\n    let s2 = i;\n    // \u5C06\u65B0\u7684\u5143\u7D20\u505A\u6210\u4E00\u4E2A\u6620\u5C04\u8868\uFF0C\u53BB\u8001\u7684\u91CC\u9762\u627E\n    const keyToNewIndexMap = new Map();\n    for (let i = s2; i <= e2; i++) {\n      const nextChild = c2[i];\n      keyToNewIndexMap.set(nextChild.key, i); // \u4E0D\u5199key\u5C31\u662Fundefined\n    }\n    // \u53BB\u8001\u7684\u91CC\u9762\u627E\uFF0C\u770B\u5728\u65B0\u7684\u91CC\u9762\u6709\u6CA1\u6709\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u8BF4\u660E\u8001\u7684\u88AB\u5220\u9664\u6389\u4E86\n\n    const toBePatched = e2 - s2 + 1;\n    const newIndexToOldMapIndex = new Array(toBePatched).fill(0);\n\n    for (let i = s1; i <= e1; i++) {\n      const prevChild = c1[i];\n      let newIndex = keyToNewIndexMap.get(prevChild.key); // \u83B7\u53D6\u65B0\u7684\u7D22\u5F15\n      if (newIndex == undefined) {\n        unmount(prevChild); // \u8001\u7684\u6709 \u65B0\u7684\u6CA1\u6709\u76F4\u63A5\u5220\u9664\n      } else {\n        // a b c d\n        // b a e f\n        newIndexToOldMapIndex[newIndex - s2] = i + 1;\n        //\u8001\u7684\u91CC\u9762\u6709 \u65B0\u7684\u91CC\u9762\u4E5F\u6709\uFF0C\u90A3\u5C31\u9700\u8981\u505Adiff\u7B97\u6CD5\uFF0C\u6BD4\u8F83\u8FD9\u4E24\u4E2A\u8282\u70B9\u7684\u5C5E\u6027\u5DEE\u5F02\u548C\u513F\u5B50\u7684\u533A\u522B\n        patch(prevChild, c2[newIndex], el); // \u53EA\u662F\u6BD4\u8F83\u4E86\u5C5E\u6027\uFF0C\u8FD8\u9700\u8981\u79FB\u52A8\u4F4D\u7F6E\n      }\n    }\n  }\n\n\n  const patchChildren = (n1, n2, el) => {\n    // \u6BD4\u8F83\u524D\u540E2\u4E2A\u8282\u70B9\u7684\u5DEE\u5F02\n\n    const c1 = n1 && n1.children // \u8001\u513F\u5B50\n    let c2 = n2.children; // \u65B0\u513F\u5B50\n\n    let prevShapeFlag = n1.shapeFlag; // \u4E0A\u4E00\u6B21\n    let shapeFlag = n2.shapeFlag; // \u65B0\u7684\u4E00\u6B21\n    // \u6587\u672C \u6570\u7EC4 \u7A7A = 9\u79CD\n\n    // \u6587\u672C -\u300B \u6570\u7EC4 \u6587\u672C\u5220\u9664\u6389\uFF0C\u6362\u6210\u6570\u7EC4 v\n    // \uFF08\u6587\u672C -\u300B \u7A7A  \u6E05\u7A7A\u6587\u672C \uFF0C  v\n    // \u6587\u672C -\u300B \u6587\u672C \u7528\u65B0\u6587\u672C\u6362\u8001\u7684\u6587\u672C v\n\n    //\uFF08\u6570\u7EC4 -\u300B \u6587\u672C  \u79FB\u9664\u6570\u7EC4+\u66F4\u65B0\u6587\u672C  v\n    // \u6570\u7EC4 -\u300B \u7A7A\uFF09 \u79FB\u9664\u6570\u7EC4 v\n    // \u6570\u7EC4 -\u300B \u6570\u7EC4 \uFF08diff\uFF09 ---\n\n    // \u7A7A -\u300B \u6587\u672C  \u66F4\u65B0\u6587\u672C v\n    // \u7A7A -\u300B \u6570\u7EC4  \u6302\u8F7D\u6570\u7EC4 v\n    // \uFF08\u7A7A\u4E2D -> \u7A7A  \u65E0\u9700\u5904\u7406\uFF09 v\n\n    // \u65B0\u7684\u662F\u6587\u672C   \n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n      // \u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u662F\u6570\u7EC4\u79FB\u9664\u8001\u7684\uFF0C\u6362\u65B0\u7684\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        unmountChildren(c1);\n      }\n      if (c1 !== c2) {\n        // \u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u662F\u6587\u672C\u6216\u8005\u7A7A \u5219\u76F4\u63A5\u91C7\u7528\u65B0\u7684\n        // \u6587\u672C\u6709\u53D8\u6362\n        hostSetElementText(el, c2);\n      }\n    } else {\n      // \u65B0\u7684\u662F\u6570\u7EC4\u6216\u8005\u7A7A\n      // \u65E7\u5F97\u4E3A\u6570\u7EC4\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        // \u65E7\u5F97\u4E3A\u6570\u7EC4 \u65B0\u7684\u4E3A\u6570\u7EC4\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          // diff\u7B97\u6CD5\n          patchKeyedChildren(c1, c2, el);\n        } else {\n          //  \u65E7\u7684\u662F\u6570\u7EC4\uFF0C \u65B0\u7684\u7A7A \u5378\u8F7D\n          unmountChildren(c1);\n        }\n      } else {\n        // \u65E7\u7684\u4E3A\u5B57\u7B26\u6216\u8005\u7A7A  \u65B0\u7684\u4E3A\u6570\u7EC4\u6216\u8005\u7A7A\n        patchKeyedChildren(c1, c2, el);\n        // \u65E7\u7684\u7684\u662F\u6587\u672C  && \u65B0\u7684\u662F\u6570\u7EC4\u6216\u8005\u7A7A \u79FB\u9664\u65E7\u7684 \u6302\u5728\u65B0\u7684\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n          hostSetElementText(el, \"\");\n        }\n        // \u672C\u6B21\u662F\u6570\u7EC4 \u5219\u76F4\u63A5\u6302\u8F7D\u5373\u53EF \n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n          mountChildren(c2, el);\n        }\n      }\n    }\n  };\n\n\n  // \u6838\u5FC3\u7684diff\u7B97\u6CD5 vnode1\u65E7\u7684  vnode2\u65B0\u7684\n  const patchElement = (n1, n2) => {\n    let el = (n2.el = n1.el);\n    const oldProps = n1.props || {};\n    const newProps = n2.props || {};\n    patchProps(oldProps, newProps, el); // \u6BD4\u5BF9\u65B0\u8001\u5C5E\u6027\n    patchChildren(n1, n2, el); // \u6BD4\u8F83\u5143\u7D20\u7684\u5B69\u5B50\u8282\u70B9\n  }\n\n\n  // \u5904\u7406\u6587\u672C\n  function processText(n1, n2, container) {\n    if (n1 == null) {\n      hostInsert((n2.el = hostCreateText(n2.children)), container);\n    } else {\n      let el = (n2.el = n1.el);\n      if (n2.children != n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  }\n\n  const processFragment = (n1, n2, container) => {\n    if (n1 == null) {\n      mountChildren(n2.children, container);\n    } else {\n      patchChildren(n1, n2, container);\n    }\n  }\n\n  function processElement(n1, n2, container, anchor) {\n    if (n1 == null) {\n      // \u521D\u59CB\u5316\u903B\u8F91\n      mountElement(n2, container, anchor);\n    } else {\n      patchElement(n1, n2);\n    }\n  }\n\n  // \u5143\u7D20\u7684\u6E32\u67D3\n  const patch = (n1, n2, container, anchor = null) => {\n    // \u521D\u59CB\u5316\u548Cdiff\u7B97\u6CD5\u90FD\u5728\u8FD9\u91CC\u55B2\n    if (n1 == n2) {\n      return\n    }\n    // \u4E24\u4E2A\u4E0D\u540C\u865A\u62DF\u8282\u70B9\u4E0D\u9700\u8981\u8FDB\u884C\u6BD4\u8F83\uFF0C\u76F4\u63A5\u79FB\u9664\u8001\u8282\u70B9\uFF0C\u5C06\u65B0\u7684\u865A\u62DF\u8282\u70B9\u6E32\u67D3\u6210\u771F\u5B9EDOM\u8FDB\u884C\u6302\u8F7D\u5373\u53EF\n    if (n1 && !isSameVNodeType(n1, n2)) { // \u6709n1 \u4F46\u662Fn1\u548Cn2\u4E0D\u662F\u540C\u4E00\u4E2A\u8282\u70B9\n      unmount(n1)\n      n1 = null\n    }\n\n    const { type, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container); // \u5904\u7406\u6587\u672C\n        break;\n      case Fragment:\n        processFragment(n1, n2, container); // \u5904\u7406fragment\n        break;\n      default:\n        if (shapeFlag & ShapeFlags.ELEMENT) {\n          processElement(n1, n2, container, anchor); // \u4E4B\u524D\u5904\u7406\u5143\u7D20\u7684\u903B\u8F91\n        }\n    }\n  }\n\n  const unmount = (vnode) => { hostRemove(vnode.el) }\n\n  const render = (vnode, container) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode); // \u627E\u5230\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\u5C06\u5176\u5378\u8F7D\n      } // \u5378\u8F7D\n    } else {\n      patch(container._vnode || null, vnode, container); // \u521D\u59CB\u5316\u548C\u66F4\u65B0\n    }\n    container._vnode = vnode;\n  }\n  return {\n    render\n  }\n}\n\n// \u5378\u8F7D\n// createRenderer(renderOptions).render(null,document.getElementById('app'));\n\n\n\n"],
  "mappings": "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",
  "names": ["type", "i", "render"]
}
